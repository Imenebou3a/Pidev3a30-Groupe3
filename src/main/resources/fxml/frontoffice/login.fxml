<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.shape.Rectangle?>
<?import java.net.URL?>

<StackPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="tn.esprit.controllers.LoginController"
           styleClass="root-container" prefHeight="800" prefWidth="1400">

    <stylesheets>
        <URL value="@../../css/login-design.css"/>
    </stylesheets>

    <!-- FOND AVEC GRADIENT -->
    <VBox styleClass="background-container" StackPane.alignment="CENTER"/>

    <!-- CARTE DE CONNEXION -->
    <HBox styleClass="login-card" spacing="0" maxWidth="1100" maxHeight="650" StackPane.alignment="CENTER">

        <!-- PANNEAU GAUCHE - GIF PLEIN Ã‰CRAN -->
        <StackPane prefWidth="550" minWidth="550" maxWidth="550" prefHeight="650" minHeight="650" maxHeight="650" styleClass="visual-panel">

            <!-- IMAGE GIF EN FOND - REMPLISSAGE COMPLET -->
            <ImageView fitWidth="550" fitHeight="650" preserveRatio="false" StackPane.alignment="CENTER">
                <image>
                    <Image url="@../../assets/login.gif" backgroundLoading="true"/>
                </image>
                <clip>
                    <Rectangle width="550" height="650" arcWidth="50" arcHeight="50"/>
                </clip>
            </ImageView>

            <!-- OVERLAY SOMBRE POUR LISIBILITÃ‰ -->
            <VBox styleClass="overlay-dark" prefWidth="550" prefHeight="650"/>

            <!-- CONTENU PAR-DESSUS LE GIF -->
            <VBox alignment="CENTER" spacing="30" StackPane.alignment="CENTER">
                <padding>
                    <Insets top="60" bottom="60" left="50" right="50"/>
                </padding>

                <!-- LOGO / ICÃ”NE -->
                <VBox alignment="CENTER" spacing="20">
                    <Label text="âœˆ" styleClass="travel-icon"/>
                    <Label text="Lammetna" styleClass="brand-title">
                        <font>
                            <Font name="System Bold" size="42"/>
                        </font>
                    </Label>
                    <Label text="Votre Passerelle vers la Tunisie Authentique" styleClass="brand-subtitle" textAlignment="CENTER" wrapText="true"/>
                </VBox>

                <!-- FEATURES -->
                <VBox spacing="25" styleClass="features-container">
                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Label text="ðŸ " styleClass="feature-icon"/>
                        <VBox spacing="5">
                            <Label text="HÃ©bergements Exceptionnels" styleClass="feature-title"/>
                            <Label text="Des maisons d'hÃ´tes authentiques" styleClass="feature-desc"/>
                        </VBox>
                    </HBox>

                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Label text="ðŸŽ­" styleClass="feature-icon"/>
                        <VBox spacing="5">
                            <Label text="Ã‰vÃ©nements Culturels" styleClass="feature-title"/>
                            <Label text="Festivals et traditions locales" styleClass="feature-desc"/>
                        </VBox>
                    </HBox>

                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Label text="ðŸŒŠ" styleClass="feature-icon"/>
                        <VBox spacing="5">
                            <Label text="ExpÃ©riences Uniques" styleClass="feature-title"/>
                            <Label text="DÃ©couvrez des lieux secrets" styleClass="feature-desc"/>
                        </VBox>
                    </HBox>
                </VBox>

                <!-- QUOTE -->
                <VBox alignment="CENTER" spacing="10" styleClass="quote-container">
                    <Label text="Voyager c'est naÃ®tre et mourir Ã  chaque instant" styleClass="quote-text" textAlignment="CENTER" wrapText="true"/>
                    <Label text="â€” Victor Hugo" styleClass="quote-author"/>
                </VBox>
            </VBox>

        </StackPane>

        <!-- PANNEAU DROIT - FORMULAIRE -->
        <VBox styleClass="form-panel" prefWidth="550" alignment="CENTER" spacing="25">
            <padding>
                <Insets top="60" bottom="60" left="50" right="50"/>
            </padding>

            <!-- HEADER -->
            <VBox spacing="8" alignment="CENTER">
                <Label text="Bon Retour !" styleClass="form-title">
                    <font>
                        <Font name="System Bold" size="32"/>
                    </font>
                </Label>
                <Label text="Connectez-vous pour continuer votre aventure" styleClass="form-subtitle"/>
            </VBox>

            <!-- FORMULAIRE -->
            <VBox spacing="22" maxWidth="380" VBox.vgrow="ALWAYS">

                <!-- EMAIL -->
                <VBox spacing="10">
                    <Label text="EMAIL" styleClass="input-label"/>
                    <TextField fx:id="emailField" promptText="exemple@email.com" styleClass="modern-input"/>
                    <Label fx:id="emailError" styleClass="error-text" visible="false" managed="false"/>
                </VBox>

                <!-- MOT DE PASSE -->
                <VBox spacing="10">
                    <Label text="MOT DE PASSE" styleClass="input-label"/>
                    <PasswordField fx:id="passwordField" promptText="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" styleClass="modern-input"/>
                    <Label fx:id="passwordError" styleClass="error-text" visible="false" managed="false"/>
                </VBox>

                <!-- OPTIONS -->
                <HBox alignment="CENTER" spacing="10">
                    <CheckBox fx:id="rememberMeCheckbox" text="Se souvenir" styleClass="modern-checkbox"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Hyperlink text="Mot de passe oubliÃ© ?" onAction="#handleForgotPassword" styleClass="link-forgot"/>
                </HBox>

                <!-- MESSAGE D'ERREUR -->
                <Label fx:id="errorMessage" styleClass="error-message" visible="false" managed="false" wrapText="true" textAlignment="CENTER"/>

                <!-- BOUTON CONNEXION -->
                <Button text="SE CONNECTER" onAction="#handleLogin" styleClass="btn-login" maxWidth="Infinity" prefHeight="55">
                    <font>
                        <Font name="System Bold" size="14"/>
                    </font>
                </Button>

                <!-- DIVIDER -->
                <HBox alignment="CENTER" spacing="15">
                    <Separator HBox.hgrow="ALWAYS" styleClass="divider-line"/>
                    <Label text="OU" styleClass="divider-text"/>
                    <Separator HBox.hgrow="ALWAYS" styleClass="divider-line"/>
                </HBox>

                <!-- INSCRIPTION -->
                <VBox alignment="CENTER" spacing="12">
                    <Label text="PremiÃ¨re visite ?" styleClass="signup-text"/>
                    <Button text="CRÃ‰ER UN COMPTE" onAction="#handleGoToRegister" styleClass="btn-signup" prefWidth="250" prefHeight="48">
                        <font>
                            <Font name="System Bold" size="13"/>
                        </font>
                    </Button>
                </VBox>

            </VBox>
        </VBox>

    </HBox>

</StackPane>